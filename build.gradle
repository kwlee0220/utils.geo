apply plugin: 'java-library'
apply plugin: 'eclipse'

group = 'etri'
version = '20.05.15'

sourceCompatibility = JavaVersion.VERSION_1_8
[compileJava,compileTestJava]*.options*.encoding = 'UTF-8'

repositories {
    mavenLocal()
	maven { url "http://repo.osgeo.org/repository/release/" }
    mavenCentral()
}


ext {
	geotools_version = '26.1'
	commons_io_version = '2.6'
}
dependencies {
	compile project(":utils")
	
	// GeoTools
	api "org.geotools:gt-shapefile:${geotools_version}"
	implementation "org.geotools:gt-epsg-hsql:${geotools_version}"
	
	implementation "commons-io:commons-io:${commons_io_version}"
}

task sourceJar(type: Jar) {
	classifier 'sources'
	from sourceSets.main.allSource
}

task javadocJar(type: Jar) {
	classifier 'javadoc'
	from javadoc.destinationDir
}

artifacts {
	archives sourceJar
	archives javadocJar
}

apply plugin: 'maven-publish'
publishing {
	publications {
		commonGrpc(MavenPublication) {
			from components.java
			
			artifact sourceJar
			artifact javadocJar
		}
	}
}
